--disable_query_log
call mtr.add_suppression("\\[Warning\\] .* Plugin keyring_file reported: 'Error while restoring keyring from backup file cannot overwrite keyring with backup'");
--enable_query_log

# Waiting time when (re)starting the server
--let $explicit_default_wait_counter=15000

<<<<<<< HEAD
--let $keyring_restart_param=restart:$KEYRING_PLUGIN_EARLY_LOAD --loose-keyring_file_data=$MYSQL_TMP_DIR/mysecret_keyring $KEYRING_PLUGIN_OPT
--let $keyring_file_test=1
--source include/table_encrypt_debug.inc
--remove_file $MYSQL_TMP_DIR/mysecret_keyring
||||||| 98b2ccb470d
# Cleanup
DROP DATABASE tde_db;
eval SET GLOBAL innodb_file_per_table=$innodb_file_per_table;
--remove_file $MYSQL_TMP_DIR/mysecret_keyring

--disable_query_log
call mtr.add_suppression("\\[Warning\\].* Can't generate new master key for tablespace encryption, please check the keyring plugin is loaded.");
call mtr.add_suppression("\\[Warning\\].* Cannot calculate statistics for table .* because the \.ibd file is missing");
call mtr.add_suppression("\\[Warning\\].* Database page corruption or a failed file read of page");
call mtr.add_suppression("\\[Warning\\].* does not exist in the InnoDB internal data dictionary though MySQL is trying to drop it");
call mtr.add_suppression("\\[Warning\\].* Plugin keyring_file reported: 'Error while restoring keyring from backup file cannot overwrite keyring with backup'");
call mtr.add_suppression("\\[Warning\\].* Tablespace .*, name '.*', file '.*' is missing");
call mtr.add_suppression("\\[Warning\\].* Tablespace for table `tde_db`.`t1` is set as discarded");
call mtr.add_suppression("\\[ERROR\\].* Encryption algorithm support missing:");
call mtr.add_suppression("\\[ERROR\\].* Encryption can't find master key, please check the keyring plugin is loaded.");
call mtr.add_suppression("\\[ERROR\\].* The table .* doesn't have a corresponding tablespace, it was discarded.");
call mtr.add_suppression("\\[Warning\\].* Encryption key missing: space_id=");
call mtr.add_suppression("\\[Warning\\].* Decrypting a page in doublewrite file failed: space_id=");
--enable_query_log
=======
# Cleanup
DROP DATABASE tde_db;
eval SET GLOBAL innodb_file_per_table=$innodb_file_per_table;

--disable_query_log
call mtr.add_suppression("\\[Warning\\].* Can't generate new master key for tablespace encryption, please check the keyring plugin is loaded.");
call mtr.add_suppression("\\[Warning\\].* Cannot calculate statistics for table .* because the \.ibd file is missing");
call mtr.add_suppression("\\[Warning\\].* Database page corruption or a failed file read of page");
call mtr.add_suppression("\\[Warning\\].* does not exist in the InnoDB internal data dictionary though MySQL is trying to drop it");
call mtr.add_suppression("\\[Warning\\].* Plugin keyring_file reported: 'Error while restoring keyring from backup file cannot overwrite keyring with backup'");
call mtr.add_suppression("\\[Warning\\].* Tablespace .*, name '.*', file '.*' is missing");
call mtr.add_suppression("\\[Warning\\].* Tablespace for table `tde_db`.`t1` is set as discarded");
call mtr.add_suppression("\\[ERROR\\].* Encryption algorithm support missing:");
call mtr.add_suppression("\\[ERROR\\].* Encryption can't find master key, please check the keyring plugin is loaded.");
call mtr.add_suppression("\\[ERROR\\].* The table .* doesn't have a corresponding tablespace, it was discarded.");
call mtr.add_suppression("\\[Warning\\].* Encryption key missing: space_id=");
call mtr.add_suppression("\\[Warning\\].* Decrypting a page in doublewrite file failed: space_id=");
--enable_query_log
>>>>>>> mysql-8.0.26
